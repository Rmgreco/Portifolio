{"ast":null,"code":"var _jsxFileName = \"/home/usuario/projetos/sd-08-project-frontend-online-store/src/pages/ShoppingCart.jsx\";\nimport React from 'react';\n\nclass ShoppingCart extends React.Component {\n  constructor() {\n    super();\n    const selectedProducts = JSON.parse(localStorage.getItem('selectedProducts'));\n    const isEmpty = selectedProducts.length === 0;\n    this.increaseItem = this.increaseItem.bind(this); // this.decreaseItem = this.decreaseItem.bind(this);\n\n    this.state = {\n      selectedProducts,\n      isEmpty\n    };\n  }\n\n  increaseItem(item) {\n    const {\n      selectedProducts\n    } = this.state;\n    const items = JSON.parse(localStorage.getItem('selectedProducts'));\n    const productFound = items.findIndex(product => product.title === item.title);\n\n    if (productFound >= 0) {\n      selectedProducts[productFound].quantity += 1;\n    }\n\n    localStorage.setItem('selectedProducts', JSON.stringify(selectedProducts));\n    this.setState({\n      selectedProducts\n    });\n  }\n\n  decreaseItem(item) {\n    const {\n      selectedProducts\n    } = this.state;\n    const items = JSON.parse(localStorage.getItem('selectedProducts'));\n    const productFound = items.findIndex(product => product.title === item.title);\n\n    if (productFound >= 0 && item.quantity > 0) {\n      selectedProducts[productFound].quantity += -1;\n    }\n\n    localStorage.setItem('selectedProducts', JSON.stringify(selectedProducts));\n    this.setState({\n      selectedProducts\n    });\n  }\n\n  render() {\n    const {\n      selectedProducts,\n      isEmpty\n    } = this.state;\n\n    if (isEmpty) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        \"data-testid\": \"shopping-cart-empty-message\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }\n      }, \"Seu carrinho est\\xE1 vazio\"));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, selectedProducts.map(product => /*#__PURE__*/React.createElement(\"div\", {\n      key: product.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"shopping-cart-product-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, product.title), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, product.price), /*#__PURE__*/React.createElement(\"img\", {\n      src: product.imagePath,\n      alt: \"product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"shopping-cart-product-quantity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, \"Quantidade:\", product.quantity), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      \"data-testid\": \"product-increase-quantity\",\n      onClick: () => this.increaseItem(product),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      \"data-testid\": \"product-decrease-quantity\",\n      onClick: () => this.decreaseItem(product),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, \"-\"))));\n  }\n\n}\n\nexport default ShoppingCart;","map":{"version":3,"sources":["/home/usuario/projetos/sd-08-project-frontend-online-store/src/pages/ShoppingCart.jsx"],"names":["React","ShoppingCart","Component","constructor","selectedProducts","JSON","parse","localStorage","getItem","isEmpty","length","increaseItem","bind","state","item","items","productFound","findIndex","product","title","quantity","setItem","stringify","setState","decreaseItem","render","map","price","imagePath"],"mappings":"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","sourcesContent":["import React from 'react';\n\nclass ShoppingCart extends React.Component {\n  constructor() {\n    super();\n    const selectedProducts = JSON.parse(localStorage.getItem('selectedProducts'));\n\n    const isEmpty = (selectedProducts.length === 0);\n    this.increaseItem = this.increaseItem.bind(this);\n    // this.decreaseItem = this.decreaseItem.bind(this);\n    this.state = {\n      selectedProducts,\n      isEmpty,\n    };\n  }\n\n  increaseItem(item) {\n    const { selectedProducts } = this.state;\n    const items = JSON.parse(localStorage.getItem('selectedProducts'));\n    const productFound = items\n      .findIndex((product) => product.title === item.title);\n    if (productFound >= 0) {\n      selectedProducts[productFound].quantity += 1;\n    }\n    localStorage.setItem('selectedProducts', JSON.stringify(selectedProducts));\n    this.setState({ selectedProducts });\n  }\n\n  decreaseItem(item) {\n    const { selectedProducts } = this.state;\n    const items = JSON.parse(localStorage.getItem('selectedProducts'));\n    const productFound = items\n      .findIndex((product) => product.title === item.title);\n    if (productFound >= 0 && item.quantity > 0) {\n      selectedProducts[productFound].quantity += -1;\n    }\n    localStorage.setItem('selectedProducts', JSON.stringify(selectedProducts));\n    this.setState({ selectedProducts });\n  }\n\n  render() {\n    const { selectedProducts, isEmpty } = this.state;\n    if (isEmpty) {\n      return (\n        <div>\n          <p data-testid=\"shopping-cart-empty-message\">Seu carrinho est√° vazio</p>\n        </div>\n      );\n    } return (\n      <div>\n        {selectedProducts.map((product) => (\n          <div key={ product.title }>\n            <p data-testid=\"shopping-cart-product-name\">{product.title}</p>\n            <p>{product.price}</p>\n            <img src={ product.imagePath } alt=\"product\" />\n            <p data-testid=\"shopping-cart-product-quantity\">\n              Quantidade:\n              {product.quantity}\n            </p>\n            <button\n              type=\"submit\"\n              data-testid=\"product-increase-quantity\"\n              onClick={ () => this.increaseItem(product) }\n            >\n              +\n            </button>\n            <button\n              type=\"submit\"\n              data-testid=\"product-decrease-quantity\"\n             onClick={ () => this.decreaseItem(product) }\n            >\n              -\n            </button>\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default ShoppingCart;\n"]},"metadata":{},"sourceType":"module"}