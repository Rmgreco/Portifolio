{"ast":null,"code":"var _jsxFileName = \"/home/usuario/portfolio/3-frontEndStore/src/components/EvaluationForm.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nclass EvaluationForm extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      textAreaInput: '',\n      rating: ''\n    };\n    this.textAreaInputUpdate = this.textAreaInputUpdate.bind(this);\n    this.submitEvaluation = this.submitEvaluation.bind(this);\n    this.ratingUpdate = this.ratingUpdate.bind(this);\n  }\n\n  textAreaInputUpdate(event) {\n    this.setState({\n      textAreaInput: event.target.value\n    });\n  }\n\n  ratingUpdate(event) {\n    this.setState({\n      rating: event.target.value\n    });\n  }\n\n  submitEvaluation(updatingCallback) {\n    return () => {\n      const {\n        id\n      } = this.props;\n      const {\n        textAreaInput,\n        rating\n      } = this.state;\n      const evaluation = {\n        text: textAreaInput,\n        rating\n      };\n\n      if (!localStorage.getItem(`${id}_evaluations`)) {\n        localStorage.setItem(`${id}_evaluations`, JSON.stringify([evaluation]));\n      } else {\n        const previousEvaluations = JSON.parse(localStorage.getItem(`${id}_evaluations`));\n        previousEvaluations.push(evaluation);\n        localStorage.setItem(`${id}_evaluations`, JSON.stringify(previousEvaluations));\n      }\n\n      this.setState({\n        textAreaInput: '',\n        rating: ''\n      });\n      updatingCallback();\n    };\n  }\n\n  render() {\n    const {\n      textAreaInput\n    } = this.state;\n    const {\n      triggerUpdate\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, \"Escolha aqui a sua avalia\\xE7\\xE3o:\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"rating\",\n      value: \"1\",\n      onClick: this.ratingUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }), \"1\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"rating\",\n      value: \"2\",\n      onClick: this.ratingUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }), \"2\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"rating\",\n      value: \"3\",\n      onClick: this.ratingUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }), \"3\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"rating\",\n      value: \"4\",\n      onClick: this.ratingUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }), \"4\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"rating\",\n      value: \"5\",\n      onClick: this.ratingUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }), \"5\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"evaluating-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, \"Texto de Avalia\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      \"data-testid\": \"product-detail-evaluation\",\n      value: textAreaInput,\n      onChange: this.textAreaInputUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.submitEvaluation(triggerUpdate),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, \"Enviar Avalia\\xE7\\xE3o\"));\n  }\n\n}\n\nexport default EvaluationForm;\nEvaluationForm.propTypes = {\n  id: PropTypes.string.isRequired,\n  triggerUpdate: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/home/usuario/portfolio/3-frontEndStore/src/components/EvaluationForm.jsx"],"names":["React","PropTypes","EvaluationForm","Component","constructor","state","textAreaInput","rating","textAreaInputUpdate","bind","submitEvaluation","ratingUpdate","event","setState","target","value","updatingCallback","id","props","evaluation","text","localStorage","getItem","setItem","JSON","stringify","previousEvaluations","parse","push","render","triggerUpdate","propTypes","string","isRequired","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass EvaluationForm extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      textAreaInput: '',\n      rating: '',\n    };\n    this.textAreaInputUpdate = this.textAreaInputUpdate.bind(this);\n    this.submitEvaluation = this.submitEvaluation.bind(this);\n    this.ratingUpdate = this.ratingUpdate.bind(this);\n  }\n\n  textAreaInputUpdate(event) {\n    this.setState({\n      textAreaInput: event.target.value,\n    });\n  }\n\n  ratingUpdate(event) {\n    this.setState({\n      rating: event.target.value,\n    });\n  }\n\n  submitEvaluation(updatingCallback) {\n    return () => {\n      const { id } = this.props;\n      const { textAreaInput, rating } = this.state;\n      const evaluation = {\n        text: textAreaInput,\n        rating,\n      };\n      if (!localStorage.getItem(`${id}_evaluations`)) {\n        localStorage.setItem(`${id}_evaluations`, JSON.stringify([evaluation]));\n      } else {\n        const previousEvaluations = JSON.parse(localStorage.getItem(`${id}_evaluations`));\n        previousEvaluations.push(evaluation);\n        localStorage.setItem(`${id}_evaluations`, JSON.stringify(previousEvaluations));\n      }\n      this.setState({\n        textAreaInput: '',\n        rating: '',\n      });\n      updatingCallback();\n    };\n  }\n\n  render() {\n    const { textAreaInput } = this.state;\n    const { triggerUpdate } = this.props;\n    return (\n      <form>\n        <p>Escolha aqui a sua avaliação:</p>\n        <label htmlFor=\"1\">\n          <input type=\"radio\" name=\"rating\" value=\"1\" onClick={ this.ratingUpdate } />\n          1\n        </label>\n        <label htmlFor=\"2\">\n          <input type=\"radio\" name=\"rating\" value=\"2\" onClick={ this.ratingUpdate } />\n          2\n        </label>\n        <label htmlFor=\"3\">\n          <input type=\"radio\" name=\"rating\" value=\"3\" onClick={ this.ratingUpdate } />\n          3\n        </label>\n        <label htmlFor=\"4\">\n          <input type=\"radio\" name=\"rating\" value=\"4\" onClick={ this.ratingUpdate } />\n          4\n        </label>\n        <label htmlFor=\"5\">\n          <input type=\"radio\" name=\"rating\" value=\"5\" onClick={ this.ratingUpdate } />\n          5\n        </label>\n        <label htmlFor=\"evaluating-text\">\n          <p>Texto de Avaliação</p>\n          <textarea\n            data-testid=\"product-detail-evaluation\"\n            value={ textAreaInput }\n            onChange={ this.textAreaInputUpdate }\n          />\n        </label>\n        <button type=\"button\" onClick={ this.submitEvaluation(triggerUpdate) }>\n          Enviar Avaliação\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default EvaluationForm;\n\nEvaluationForm.propTypes = {\n  id: PropTypes.string.isRequired,\n  triggerUpdate: PropTypes.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}