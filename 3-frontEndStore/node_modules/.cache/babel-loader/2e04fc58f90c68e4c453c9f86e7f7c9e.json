{"ast":null,"code":"var _jsxFileName = \"/home/usuario/portfolio/3-frontEndStore/src/pages/ProductList.jsx\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport CategoryList from '../components/CategoryList';\nimport * as api from '../services/api';\nimport ProductCard from '../components/ProductCard';\n\nclass ProductList extends React.Component {\n  constructor() {\n    super();\n\n    if (!localStorage.getItem('selectedProducts')) {\n      localStorage.setItem('selectedProducts', JSON.stringify([]));\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.state = {\n      queryInput: '',\n      filteredProducts: []\n    };\n  }\n\n  handleChange(event) {\n    this.setState({\n      queryInput: event.target.value\n    });\n  }\n\n  async handleClick(event) {\n    const categoryInput = event.target.id;\n    const {\n      queryInput\n    } = this.state;\n    const searchResults = await api.getProductsFromCategoryAndQuery(categoryInput, queryInput);\n    this.setState({\n      filteredProducts: searchResults.results\n    });\n  }\n\n  render() {\n    const {\n      queryInput,\n      filteredProducts\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"query-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, \"O que voc\\xEA procura:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      \"data-testid\": \"query-input\",\n      onChange: this.handleChange,\n      value: queryInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"query-button\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, \"Procurar\"), /*#__PURE__*/React.createElement(\"h3\", {\n      \"data-testid\": \"home-initial-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, \"Digite algum termo de pesquisa ou escolha uma categoria.\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CategoryList, {\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    })), filteredProducts.map(product => /*#__PURE__*/React.createElement(ProductCard, {\n      title: product.title,\n      price: product.price,\n      imagePath: product.thumbnail,\n      key: product.id,\n      id: product.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Link, {\n      \"data-testid\": \"shopping-cart-button\",\n      to: \"/shoppingcart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, \"Carrinho\"));\n  }\n\n}\n\nexport default ProductList;","map":{"version":3,"sources":["/home/usuario/portfolio/3-frontEndStore/src/pages/ProductList.jsx"],"names":["React","Link","CategoryList","api","ProductCard","ProductList","Component","constructor","localStorage","getItem","setItem","JSON","stringify","handleChange","bind","handleClick","state","queryInput","filteredProducts","event","setState","target","value","categoryInput","id","searchResults","getProductsFromCategoryAndQuery","results","render","map","product","title","price","thumbnail"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport CategoryList from '../components/CategoryList';\nimport * as api from '../services/api';\nimport ProductCard from '../components/ProductCard';\n\nclass ProductList extends React.Component {\n  constructor() {\n    super();\n    if (!localStorage.getItem('selectedProducts')) {\n      localStorage.setItem('selectedProducts', JSON.stringify([]));\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.state = {\n      queryInput: '',\n      filteredProducts: [],\n    };\n  }\n\n  handleChange(event) {\n    this.setState({\n      queryInput: event.target.value,\n    });\n  }\n\n  async handleClick(event) {\n    const categoryInput = event.target.id;\n    const { queryInput } = this.state;\n    const searchResults = await\n    api.getProductsFromCategoryAndQuery(categoryInput, queryInput);\n    this.setState({\n      filteredProducts: searchResults.results,\n    });\n  }\n\n  render() {\n    const { queryInput, filteredProducts } = this.state;\n    return (\n      <div>\n        <label htmlFor=\"query-input\">\n          O que vocÃª procura:\n          <input\n            type=\"text\"\n            data-testid=\"query-input\"\n            onChange={ this.handleChange }\n            value={ queryInput }\n          />\n        </label>\n        <button\n          type=\"button\"\n          data-testid=\"query-button\"\n          onClick={ this.handleClick }\n        >\n          Procurar\n        </button>\n        <h3 data-testid=\"home-initial-message\">\n          Digite algum termo de pesquisa ou escolha uma categoria.\n        </h3>\n        <div>\n          <CategoryList onClick={ this.handleClick } />\n        </div>\n        {filteredProducts.map(\n          (product) => (<ProductCard\n            title={ product.title }\n            price={ product.price }\n            imagePath={ product.thumbnail }\n            key={ product.id }\n            id={ product.id }\n          />),\n        )}\n        <Link data-testid=\"shopping-cart-button\" to=\"/shoppingcart\">Carrinho</Link>\n      </div>\n    );\n  }\n}\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}