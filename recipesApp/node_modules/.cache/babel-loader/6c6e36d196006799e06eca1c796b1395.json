{"ast":null,"code":"var _jsxFileName = \"/home/usuario/projetos/sd-08-project-recipes-app/src/components/Item.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\nimport ItemsDetails from './ItemsDetails';\nexport default class Item extends Component {\n  constructor() {\n    super();\n    this.state = {\n      results: ''\n    };\n    this.fetchRecipe = this.fetchRecipe.bind(this);\n    this.renderMeal = this.renderMeal.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchRecipe();\n  }\n\n  async fetchRecipe() {\n    const {\n      location: {\n        pathname\n      }\n    } = this.props;\n    const id = pathname.split('/')[2];\n    const type = pathname.split('/')[1];\n\n    if (type === 'comidas') {\n      const req = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`);\n      const {\n        meals\n      } = await req.json();\n      this.setState({\n        results: meals\n      });\n    }\n\n    if (type === 'bebidas') {\n      const req = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`);\n      const {\n        drinks\n      } = await req.json();\n      this.setState({\n        results: drinks\n      });\n    }\n  }\n\n  renderMeal() {\n    const {\n      location: {\n        pathname\n      },\n      history\n    } = this.props;\n    const type = pathname.split('/')[1];\n    const {\n      results\n    } = this.state;\n    if (results && results.length === 0) return /*#__PURE__*/React.createElement(Redirect, {\n      to: `/${type}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 50\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, type === 'bebidas' && results && /*#__PURE__*/React.createElement(ItemsDetails, {\n      type: \"Drink\",\n      pathname: pathname,\n      history: history,\n      result: results[0],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 14\n      }\n    }), type === 'comidas' && results && /*#__PURE__*/React.createElement(ItemsDetails, {\n      type: \"Meal\",\n      pathname: pathname,\n      history: history,\n      result: results[0],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 14\n      }\n    }));\n  }\n\n  render() {\n    const {\n      results\n    } = this.state;\n    if (results === '') return null;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.renderMeal());\n  }\n\n}\nItem.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired\n  }).isRequired,\n  history: PropTypes.objectOf(PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.number, PropTypes.object])).isRequired\n};","map":{"version":3,"sources":["/home/usuario/projetos/sd-08-project-recipes-app/src/components/Item.js"],"names":["React","Component","PropTypes","Redirect","ItemsDetails","Item","constructor","state","results","fetchRecipe","bind","renderMeal","componentDidMount","location","pathname","props","id","split","type","req","fetch","meals","json","setState","drinks","history","length","render","propTypes","shape","string","isRequired","objectOf","oneOfType","func","number","object"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\n\nimport ItemsDetails from './ItemsDetails';\n\nexport default class Item extends Component {\n  constructor() {\n    super();\n    this.state = {\n      results: '',\n    };\n\n    this.fetchRecipe = this.fetchRecipe.bind(this);\n    this.renderMeal = this.renderMeal.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchRecipe();\n  }\n\n  async fetchRecipe() {\n    const { location: { pathname } } = this.props;\n    const id = pathname.split('/')[2];\n    const type = pathname.split('/')[1];\n    if (type === 'comidas') {\n      const req = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`);\n      const { meals } = await req.json();\n      this.setState({ results: meals });\n    }\n    if (type === 'bebidas') {\n      const req = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`);\n      const { drinks } = await req.json();\n      this.setState({ results: drinks });\n    }\n  }\n\n  renderMeal() {\n    const { location: { pathname }, history } = this.props;\n    const type = pathname.split('/')[1];\n    const { results } = this.state;\n    if (results && results.length === 0) return (<Redirect to={ `/${type}` } />);\n    return (\n      <div>\n        {\n          type === 'bebidas'\n          && results\n          && <ItemsDetails\n            type=\"Drink\"\n            pathname={ pathname }\n            history={ history }\n            result={ results[0] }\n          />\n\n        }\n        {\n          type === 'comidas' && results\n          && <ItemsDetails\n            type=\"Meal\"\n            pathname={ pathname }\n            history={ history }\n            result={ results[0] }\n          />\n        }\n      </div>\n    );\n  }\n\n  render() {\n    const { results } = this.state;\n    if (results === '') return null;\n    return (\n      <>\n        {this.renderMeal()}\n      </>\n    );\n  }\n}\n\nItem.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n  history: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.number,\n    PropTypes.object,\n  ])).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}